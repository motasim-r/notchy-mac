<Window
    x:Class="NotchyTeleprompterWin.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Notchy Teleprompter"
    Width="1040"
    Height="720"
    RequestedTheme="Dark">

    <Window.Resources>
        <SolidColorBrush x:Key="RootBackground" Color="#0B0F18" />
        <SolidColorBrush x:Key="CardBackground" Color="#111826" />
        <SolidColorBrush x:Key="CardBorder" Color="#1D2536" />
        <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF" />
        <SolidColorBrush x:Key="TextSecondary" Color="#B6BCC7" />
        <SolidColorBrush x:Key="TextTertiary" Color="#8B92A1" />
        <SolidColorBrush x:Key="Accent" Color="#1A2440" />

        <Style TargetType="Button">
            <Setter Property="Background" Value="#1A2440" />
            <Setter Property="BorderBrush" Value="#2A3550" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="CornerRadius" Value="8" />
        </Style>
    </Window.Resources>

    <Grid Padding="20" Background="{StaticResource RootBackground}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2.4*" />
            <ColumnDefinition Width="1.2*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Spacing="12" Grid.ColumnSpan="2">
            <Button Content="{x:Bind Controller.PlayPauseLabel, Mode=OneWay}"
                    Click="OnTogglePlayback"
                    Padding="14,6" />
            <Button Content="Reset to Top"
                    Click="OnReset"
                    Padding="14,6" />
            <TextBlock Text="Speed"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource TextSecondary}"
                       Margin="12,0,0,0" />
            <Slider Minimum="4"
                    Maximum="260"
                    Width="220"
                    Value="{x:Bind Controller.SpeedPxPerSec, Mode=TwoWay}" />
            <TextBlock Text="{x:Bind Controller.SpeedPxPerSec, Mode=OneWay, StringFormat='{}{0:0} px/s'}"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource TextPrimary}"
                       Margin="8,0,0,0" />
        </StackPanel>

        <TextBox Grid.Row="1"
                 Text="{x:Bind Controller.ScriptText, Mode=TwoWay}"
                 AcceptsReturn="True"
                 TextWrapping="Wrap"
                 FontSize="16"
                 Foreground="{StaticResource TextPrimary}"
                 Background="#0F1422"
                 BorderBrush="#1C2436"
                 BorderThickness="1"
                 Padding="12"
                 Margin="0,16,16,0" />

        <ScrollViewer Grid.Row="1" Grid.Column="1" Margin="0,16,0,0">
            <StackPanel Spacing="16">
                <Border Background="{StaticResource CardBackground}"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="14">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Panel"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="18"
                                   FontWeight="SemiBold" />

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Width"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.OverlayWidth, Mode=OneWay, StringFormat='{}{0:0} px'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="220"
                                    Maximum="1400"
                                    SmallChange="1"
                                    Value="{x:Bind Controller.OverlayWidth, Mode=TwoWay}" />
                        </StackPanel>

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Height"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.OverlayHeight, Mode=OneWay, StringFormat='{}{0:0} px'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="90"
                                    Maximum="600"
                                    SmallChange="1"
                                    Value="{x:Bind Controller.OverlayHeight, Mode=TwoWay}" />
                        </StackPanel>

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Vertical Position"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.OverlayVerticalOffsetPx, Mode=OneWay, StringFormat='{}{0:0} px'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="-70"
                                    Maximum="220"
                                    SmallChange="1"
                                    Value="{x:Bind Controller.OverlayVerticalOffsetPx, Mode=TwoWay}" />
                        </StackPanel>

                        <ToggleSwitch Header="Show Overlay"
                                      IsOn="{x:Bind Controller.OverlayVisible, Mode=TwoWay}" />
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource CardBackground}"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="14">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Text"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="18"
                                   FontWeight="SemiBold" />

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Font Size"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.FontSizePx, Mode=OneWay, StringFormat='{}{0:0} px'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="10"
                                    Maximum="110"
                                    SmallChange="1"
                                    Value="{x:Bind Controller.FontSizePx, Mode=TwoWay}" />
                        </StackPanel>

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Line Height"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.LineHeight, Mode=OneWay, StringFormat='{}{0:0.00}'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="1.0"
                                    Maximum="2.2"
                                    SmallChange="0.01"
                                    Value="{x:Bind Controller.LineHeight, Mode=TwoWay}" />
                        </StackPanel>

                        <StackPanel Spacing="6">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Letter Spacing"
                                           Foreground="{StaticResource TextSecondary}"
                                           FontSize="13" />
                                <TextBlock Grid.Column="1"
                                           Text="{x:Bind Controller.LetterSpacingPx, Mode=OneWay, StringFormat='{}{0:0.00} px'}"
                                           Foreground="{StaticResource TextTertiary}"
                                           FontSize="12" />
                            </Grid>
                            <Slider Minimum="-0.5"
                                    Maximum="8.0"
                                    SmallChange="0.05"
                                    Value="{x:Bind Controller.LetterSpacingPx, Mode=TwoWay}" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource CardBackground}"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="14">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Recording"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="18"
                                   FontWeight="SemiBold" />
                        <ToggleSwitch Header="Hide overlay in screen recordings"
                                      IsOn="{x:Bind Controller.ExcludeFromCapture, Mode=TwoWay}" />
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource CardBackground}"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="14">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Shortcuts"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="18"
                                   FontWeight="SemiBold" />
                        <TextBlock Text="Ctrl + Shift + Space — Play / Pause"
                                   Foreground="{StaticResource TextSecondary}"
                                   FontSize="12" />
                        <TextBlock Text="Ctrl + Shift + Left / Right — Speed -2 / +2"
                                   Foreground="{StaticResource TextSecondary}"
                                   FontSize="12" />
                        <TextBlock Text="Ctrl + Shift + Up / Down — Move script up / down"
                                   Foreground="{StaticResource TextSecondary}"
                                   FontSize="12" />
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource CardBackground}"
                        BorderBrush="{StaticResource CardBorder}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="14">
                    <StackPanel Spacing="10">
                        <TextBlock Text="Reset"
                                   Foreground="{StaticResource TextPrimary}"
                                   FontSize="18"
                                   FontWeight="SemiBold" />
                        <Button Content="Reset Settings (Keep Script)"
                                Click="OnResetSettings"
                                Padding="12,6" />
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
